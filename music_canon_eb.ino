#define Eb4 311
#define F4 349
#define G4 392
#define Ab4 415
#define Bb4 466
#define C5 523
#define Db5 555
#define D5 587
#define Eb5 622
#define F5 698
#define G5 784
#define Ab5 830
#define A5 880
#define Bb5 932
#define B5 988
#define C6 1046
#define D6 1175
#define Eb6 1245



void setup() {
  pinMode(8,OUTPUT);
}
int melody[] = {
  G5,G5,Eb5,F5,G5,Ab5,G5,F5,//bar 29
  Eb5,Eb5,D5,Eb5,D5,Bb4,G4,Bb4,Eb5,//bar 30
  C5,Eb4,C5,D5,Eb5,Bb4,0,G5,F5,Eb5,//bar 31
  C5,Ab4,C5,Eb5,Eb5,D5,Eb5,F5,//bar 32
  G5,G5,F5,Eb5,F5,G5,Ab5,G5,F5,//bar 33
  F5,Eb5,F5,Eb5,D5,Bb4,Ab4,Bb4,Eb4,//bar 34
  C5,D5,Eb5,C5,Ab5,G5,Bb4,F5,Eb5,G4,Ab4,Bb4,//bar 35
  Ab4,Ab4,C5,Eb5,D5,Eb5,F5,G5,Ab5,//bar 36
  G5,G5,F5,Ab5,G5,Ab5,G5,F4,//bar 73
  Eb5,F5,Eb5,D5,G5,Bb5,C6,//bar 74
  Ab5,G5,F5,Ab5,G5,F5,Eb5,Bb4,//bar 75
  C5,Bb4,Ab4,Eb5,D5,Eb5,D5,Eb5,D5,Eb5,D5,Eb5,0,Eb6,D6,C6,B5,A5,G5,F5,//bar 76
  Eb5,Ab5,G5,Bb4,F5,G5,//bar 77
  C5,F5,G5,G4,F4,G4,//bar 78
  Ab4,C5,Db5,D5,Eb5,C6,Bb5,Ab5,G5,//bar 79
  Ab4,C5,D5,Eb5,D5,Bb4,F5,G5,Ab5,G5,//bar 80
  Eb5,Eb5,Eb5,Eb5,Eb5,Eb5,D5,D5,D5,Eb5,D5,C5,D5,//bar 89
  Eb5,Eb5,Eb5,Eb5,Eb5,Eb5,D5,D5,D5,Eb5,D5,C5,D5,//bar 90
  Eb5,Eb5,Eb5,Eb5,Eb5,Eb5,D5,D5,D5,Eb5,D5,C5,D5,//bar 91
  Eb5,Eb5,Eb5,Eb5,Eb5,Eb5,D5,D5,D5,Eb5,D5,C5,D5,//bar 92
  Bb5,G5,Ab5,Bb5,G5,Ab5,Bb5,Bb4,C5,D5,Eb5,F5,G5,Ab5,//bar 37
  G5,Eb5,F5,G5,G4,Ab4,Bb4,C5,Bb4,Ab4,Bb4,Eb5,D5,Eb5,//bar 38
  C5,Eb5,D5,C5,Bb4,Ab4,Bb4,Ab4,G4,Ab4,Bb4,C5,D5,Eb5,//bar 39
  C5,Eb5,D5,Eb5,D5,C5,D5,Bb4,C5,D5,Eb5,F5,G5,Ab4,//bar 40
  G5,Eb5,F5,G5,F5,Eb5,F5,D5,Eb5,F5,G5,F5,Eb5,D5,//bar 45
  Eb5,C5,D5,Eb5,G4,Ab4,Bb4,C5,Bb4,Ab4,Bb4,Eb5,D5,Eb5,//bar 46
  C5,Eb5,D5,C5,Bb4,Ab4,Bb4,Ab4,G4,Ab4,Bb4,C5,Eb5,D5,//bar 47
  C5,Eb5,D5,Eb5,D5,C5,D5,Eb5,F5,Eb5,D5,Eb5,C5,D5,//bar 48
  Eb5,Bb4,Eb5,G5,Bb5,Eb5,G5,Bb5,Eb6//addition
  };
double tempo[] = {
  1,0.5,0.25,1,0.25,0.25,0.25,0.5,//bar 29
  0.75,0.75,0.25,0.25,0.5,0.25,0.5,0.5,0.25,//bar 30
  0.25,0.25,0.,0.5,0.5,1.25,0.25,0.25,0.25,0.25,//bar 31
  1,0.25,0.25,0.5,0.75,0.5,0.25,0.5,//bar 32
  1,0.25,0.25,0.25,1,0.25,0.25,0.25,0.5,//bar 33
  0.75,0.75,0.25,0.25,0.5,0.25,0.5,0.5,0.25,//bar 34
  0.5,0.25,0.5,0.25,0.5,0.25,0.25,0.25,0.5,0.25,0.25,0.25,//bar 35
  1,0.25,0.25,0.5,0.75,0.5,0.25,0.25,0.25,//bar 36
  1,1,0.5,0.5,0.25,0.25,0.25,0.25,//bar 73
  1.5,0.25,0.25,0.5,0.5,0.5,0.5,//bar 74
  0.5,0.5,0.5,0.5,0.5,0.5,0.5,0.5,//bar 75
  0.5,0.5,0.5,0.5,0.125,0.125,0.125,0.125,0.125,0.125,0.125,0.125,0.125,0.125,0.125,0.125,0.125,0.125,0.125,0.125,//bar 76
  1,0.25,0.75,1,0.5,0.5,//bar 77
  1,0.5,0.5,1,0.5,0.5,//bar 78
  1,0.25,0.25,0.5,1,0.25,0.25,0.25,0.25,//bar 79
  1,0.25,0.25,0.25,0.25,1,0.25,0.25,0.25,0.25,//bar 80
  0.5,0.25,0.25,0.5,0.25,0.25,0.5,0.25,0.25,0.25,0.25,0.25,0.25,//bar 89
  0.5,0.25,0.25,0.5,0.25,0.25,0.5,0.25,0.25,0.25,0.25,0.25,0.25,//bar 90
  0.5,0.25,0.25,0.5,0.25,0.25,0.5,0.25,0.25,0.25,0.25,0.25,0.25,//bar 91
  0.5,0.25,0.25,0.5,0.25,0.25,0.5,0.25,0.25,0.25,0.25,0.25,0.25,//bar 92
  0.5,0.25,0.25,0.5,0.25,0.25,0.5,0.25,0.25,0.25,0.25,0.25,0.25,0.25,//bar 37
  0.5,0.25,0.25,0.5,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,//bar 38
  0.5,0.25,0.25,0.5,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,//bar 39
  0.5,0.25,0.25,0.5,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,//bar 40
  0.5,0.25,0.25,0.5,0.25,0.25,0.5,0.25,0.25,0.25,0.25,0.25,0.25,0.25,//bar 45
  0.5,0.25,0.25,0.5,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,//bar 46
  0.5,0.25,0.25,0.5,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,//bar 47
  0.5,0.25,0.25,0.5,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,//bar 48
  0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,2//addition
  };
int canonLength = sizeof(melody)/sizeof(int);
void loop(){
  for(int i=0;i < canonLength;i++){
    double noteDuration = tempo[i]*600;
    tone(8,melody[i],noteDuration);
    delay(noteDuration*0.8);
    delay(noteDuration*0.2);
    noTone(8);
  }
  delay(1400);
}

